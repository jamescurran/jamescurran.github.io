---
layout: post
title: More Fun with C# Interators:A Counting Iterator
categories: 
tags: 
---

  <p>
    <a href="http://www.dotnetjunkies.com/WebLog/mwherman2000/default.aspx">Michael Herman</a> recently discovered a <a href="http://msdn2.microsoft.com/en-us/library/ms131103.aspx">typo in the MSDN docs</a>:   "<a href="http://www.dotnetjunkies.com/WebLog/mwherman2000/archive/2007/05/06/233749.aspx">IEnumberable: the integer version of IEnumerable? :-)</a> "</p> <p> </p> <p>This reminded me of a method that I've been planning on presenting here:  A simple Counting iterator.  Basically, it appears to be a collection filled with a sequences of numbers.  For example, the following code will print the number from 20 to 41 stepping by three:</p> <p><font face="Courier New" size="3">foreach(int i in Iter.Count(20,41, 3))<br />     WL(i.ToString());</font></p> <p><font face="Courier New" size="3"></font> </p> <p>It's also good to create an actual collection pre-filled with sequence of numbers:</p> <p><font face="Courier New" size="4">List&lt;int&gt; ll = new List&lt;int&gt;(Iter.Count(5));</font></p> <p>The code follows:</p> <div class="csharpcode"><pre class="alt"><span class="kwrd">static</span> <span class="kwrd">class</span> Iter</pre><pre>{</pre><pre class="alt">    <span class="kwrd">static</span> <span class="kwrd">public</span> IEnumerable&lt;<span class="kwrd">int</span>&gt; Count(<span class="kwrd">int</span> start, <span class="kwrd">int</span> end)</pre><pre>    {</pre><pre class="alt">        <span class="kwrd">return</span> Count(start, end, 1);</pre><pre>    }</pre><pre class="alt">    <span class="kwrd">static</span> <span class="kwrd">public</span> IEnumerable&lt;<span class="kwrd">int</span>&gt; Count(<span class="kwrd">int</span> end)</pre><pre>    {</pre><pre class="alt">        <span class="kwrd">return</span> Count(1, end, 1);</pre><pre>    }</pre><pre class="alt">    <span class="kwrd">static</span> <span class="kwrd">public</span> IEnumerable&lt;<span class="kwrd">int</span>&gt; Count(<span class="kwrd">int</span> start, <span class="kwrd">int</span> end, <span class="kwrd">int</span> step)</pre><pre>    {</pre><pre class="alt">        <span class="kwrd">for</span>(<span class="kwrd">int</span> i = start; i &lt;=end; i+=step)</pre><pre>            <span class="kwrd">yield</span> <span class="kwrd">return</span> i;</pre><pre class="alt">    }</pre><pre>}</pre></div>Also, I should point out that the idea behind this came from a C++ iterator that I first saw presented by Andy Koenig. <a href="http://www.dotnetkicks.com/kick/?url=http://honestillusion.com/blogs/blog_0/archive/2007/05/08/more-fun-with-c-interators-a-counting-iterator.aspx"><img alt="kick it on DotNetKicks.com" src="http://www.dotnetkicks.com/Services/Images/KickItImageGenerator.ashx?url=http://honestillusion.com/blogs/blog_0/archive/2007/05/08/more-fun-with-c-interators-a-counting-iterator.aspx" border="0" /></a>